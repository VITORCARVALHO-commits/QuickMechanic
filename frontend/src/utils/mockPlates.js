// Mock database - Placas Brasileiras
export const mockPlatesDatabase = {
  'AB12CDE': {
    plate: 'AB12 CDE',
    make: 'ford',
    makeName: 'Ford',
    model: 'Fiesta',
    year: '2012',
    color: 'Blue',
    fuel: 'Petrol',
    version: '1.0 EcoBoost Titanium',
    category: 'Hatchback',
    power: '125bhp',
    transmission: 'Manual',
    doors: '5',
    engineSize: '998cc',
    co2: '109g/km',
    mpg: '60.1'
  },
  'CD34FGH': {
    plate: 'CD34 FGH',
    make: 'volkswagen',
    makeName: 'Volkswagen',
    model: 'Golf',
    year: '2015',
    color: 'Silver',
    fuel: 'Diesel',
    version: '2.0 TDI GT',
    category: 'Hatchback',
    power: '150bhp',
    transmission: 'Manual',
    doors: '5',
    engineSize: '1968cc',
    co2: '106g/km',
    mpg: '70.6'
  },
  'EF56IJK': {
    plate: 'EF56 IJK',
    make: 'bmw',
    makeName: 'BMW',
    model: '3 Series',
    year: '2018',
    color: 'Black',
    fuel: 'Diesel',
    version: '320d M Sport',
    category: 'Saloon',
    power: '190bhp',
    transmission: 'Automatic',
    doors: '4',
    engineSize: '1995cc',
    co2: '112g/km',
    mpg: '65.7'
  },
  'GH67LMN': {
    plate: 'GH67 LMN',
    make: 'audi',
    makeName: 'Audi',
    model: 'A4',
    year: '2017',
    color: 'White',
    fuel: 'Petrol',
    version: '2.0 TFSI S Line',
    category: 'Saloon',
    power: '252bhp',
    transmission: 'Automatic',
    doors: '4',
    engineSize: '1984cc',
    co2: '145g/km',
    mpg: '44.1'
  },
  'IJ18OPQ': {
    plate: 'IJ18 OPQ',
    make: 'mercedes',
    makeName: 'Mercedes-Benz',
    model: 'C-Class',
    year: '2018',
    color: 'Grey',
    fuel: 'Diesel',
    version: 'C220d AMG Line',
    category: 'Saloon',
    power: '194bhp',
    transmission: 'Automatic',
    doors: '4',
    engineSize: '1950cc',
    co2: '117g/km',
    mpg: '63.2'
  },
  'KL20RST': {
    plate: 'KL20 RST',
    make: 'landrover',
    makeName: 'Land Rover',
    model: 'Range Rover Sport',
    year: '2020',
    color: 'Black',
    fuel: 'Diesel',
    version: 'HSE Dynamic',
    category: 'SUV',
    power: '306bhp',
    transmission: 'Automatic',
    doors: '5',
    engineSize: '2993cc',
    co2: '213g/km',
    mpg: '34.9'
  },
  'MN22UVW': {
    plate: 'MN22 UVW',
    make: 'nissan',
    makeName: 'Nissan',
    model: 'Qashqai',
    year: '2022',
    color: 'Red',
    fuel: 'Petrol',
    version: '1.3 DIG-T Tekna',
    category: 'SUV',
    power: '140bhp',
    transmission: 'Manual',
    doors: '5',
    engineSize: '1332cc',
    co2: '145g/km',
    mpg: '44.1'
  },
  'OP19XYZ': {
    plate: 'OP19 XYZ',
    make: 'vauxhall',
    makeName: 'Vauxhall',
    model: 'Corsa',
    year: '2019',
    color: 'White',
    fuel: 'Petrol',
    version: '1.2 Turbo SRi',
    category: 'Hatchback',
    power: '100bhp',
    transmission: 'Manual',
    doors: '5',
    engineSize: '1199cc',
    co2: '118g/km',
    mpg: '54.3'
  },
  'QR21ABC': {
    plate: 'QR21 ABC',
    make: 'mini',
    makeName: 'Mini',
    model: 'Cooper',
    year: '2021',
    color: 'British Racing Green',
    fuel: 'Petrol',
    version: 'Cooper S',
    category: 'Hatchback',
    power: '178bhp',
    transmission: 'Manual',
    doors: '3',
    engineSize: '1998cc',
    co2: '138g/km',
    mpg: '46.3'
  },
  'ST23DEF': {
    plate: 'ST23 DEF',
    make: 'tesla',
    makeName: 'Tesla',
    model: 'Model 3',
    year: '2023',
    color: 'Pearl White',
    fuel: 'Electric',
    version: 'Long Range',
    category: 'Saloon',
    power: '346bhp',
    transmission: 'Automatic',
    doors: '4',
    engineSize: 'Electric',
    co2: '0g/km',
    mpg: 'N/A'
  },
  'UV17GHI': {
    plate: 'UV17 GHI',
    make: 'mazda',
    makeName: 'Mazda',
    model: 'CX-5',
    year: '2017',
    color: 'Soul Red',
    fuel: 'Diesel',
    version: '2.2 Skyactiv-D Sport Nav',
    category: 'SUV',
    power: '175bhp',
    transmission: 'Automatic',
    doors: '5',
    engineSize: '2191cc',
    co2: '129g/km',
    mpg: '57.6'
  },
  'WX24JKL': {
    plate: 'WX24 JKL',
    make: 'hyundai',
    makeName: 'Hyundai',
    model: 'Tucson',
    year: '2024',
    color: 'Phantom Black',
    fuel: 'Hybrid',
    version: '1.6 T-GDi Ultimate',
    category: 'SUV',
    power: '230bhp',
    transmission: 'Automatic',
    doors: '5',
    engineSize: '1598cc',
    co2: '139g/km',
    mpg: '46.3'
  },
  'YZ16MNO': {
    plate: 'YZ16 MNO',
    make: 'peugeot',
    makeName: 'Peugeot',
    model: '3008',
    year: '2016',
    color: 'Silver',
    fuel: 'Diesel',
    version: '1.6 BlueHDi Allure',
    category: 'SUV',
    power: '120bhp',
    transmission: 'Manual',
    doors: '5',
    engineSize: '1560cc',
    co2: '109g/km',
    mpg: '68.9'
  },
  'AB70PQR': {
    plate: 'AB70 PQR',
    make: 'jaguar',
    makeName: 'Jaguar',
    model: 'F-Pace',
    year: '2020',
    color: 'Santorini Black',
    fuel: 'Diesel',
    version: '2.0d R-Sport',
    category: 'SUV',
    power: '204bhp',
    transmission: 'Automatic',
    doors: '5',
    engineSize: '1999cc',
    co2: '166g/km',
    mpg: '44.8'
  },
  'CD19STU': {
    plate: 'CD19 STU',
    make: 'volvo',
    makeName: 'Volvo',
    model: 'XC40',
    year: '2019',
    color: 'Denim Blue',
    fuel: 'Petrol',
    version: 'T4 R-Design',
    category: 'SUV',
    power: '190bhp',
    transmission: 'Automatic',
    doors: '5',
    engineSize: '1969cc',
    co2: '163g/km',
    mpg: '39.2'
  },
  'EF22VWX': {
    plate: 'EF22 VWX',
    make: 'honda',
    makeName: 'Honda',
    model: 'Civic',
    year: '2022',
    color: 'Championship White',
    fuel: 'Petrol',
    version: '1.5 VTEC Turbo Sport',
    category: 'Hatchback',
    power: '182bhp',
    transmission: 'Manual',
    doors: '5',
    engineSize: '1498cc',
    co2: '141g/km',
    mpg: '45.6'
  },
  'GH21YZA': {
    plate: 'GH21 YZA',
    make: 'toyota',
    makeName: 'Toyota',
    model: 'Corolla',
    year: '2021',
    color: 'Platinum Bronze',
    fuel: 'Hybrid',
    version: '2.0 VVT-i Design',
    category: 'Hatchback',
    power: '184bhp',
    transmission: 'Automatic',
    doors: '5',
    engineSize: '1987cc',
    co2: '102g/km',
    mpg: '62.8'
  },
  'IJ23BCD': {
    plate: 'IJ23 BCD',
    make: 'seat',
    makeName: 'Seat',
    model: 'Leon',
    year: '2023',
    color: 'Desire Red',
    fuel: 'Petrol',
    version: '1.5 TSI EVO FR',
    category: 'Hatchback',
    power: '130bhp',
    transmission: 'Manual',
    doors: '5',
    engineSize: '1498cc',
    co2: '128g/km',
    mpg: '50.4'
  },
  'KL18EFG': {
    plate: 'KL18 EFG',
    make: 'skoda',
    makeName: 'Skoda',
    model: 'Octavia',
    year: '2018',
    color: 'Steel Grey',
    fuel: 'Diesel',
    version: '2.0 TDI SE L',
    category: 'Estate',
    power: '150bhp',
    transmission: 'Manual',
    doors: '5',
    engineSize: '1968cc',
    co2: '114g/km',
    mpg: '65.7'
  },
  'MN20HIJ': {
    plate: 'MN20 HIJ',
    make: 'renault',
    makeName: 'Renault',
    model: 'Clio',
    year: '2020',
    color: 'Flame Red',
    fuel: 'Petrol',
    version: '1.0 TCe RS Line',
    category: 'Hatchback',
    power: '100bhp',
    transmission: 'Manual',
    doors: '5',
    engineSize: '999cc',
    co2: '115g/km',
    mpg: '55.4'
  }
};

// Auto-search plate as user types (simulates real-time API)
export const searchPlate = (plateInput) => {
  return new Promise((resolve, reject) => {
    // Simulate API delay
    setTimeout(() => {
      // Remove hyphens and spaces, keep only letters and numbers
      const cleanPlate = plateInput.replace(/[-\s]/g, '').toUpperCase();
      
      // Search in mock database
      const vehicleData = mockPlatesDatabase[cleanPlate];
      
      if (vehicleData) {
        resolve({
          success: true,
          data: vehicleData
        });
      } else {
        reject({
          success: false,
          message: 'Vehicle registration not found in our database.'
        });
      }
    }, 500); // Faster API simulation for auto-search
  });
};

// Validate Brazilian plate format
export const validatePlateFormat = (plate) => {
  const cleanPlate = plate.replace(/[-\s]/g, '').toUpperCase();
  
  // Formato antigo: ABC1234 (3 letras + 4 números)
  const formatoAntigo = /^[A-Z]{3}\d{4}$/;
  
  // Formato Mercosul: ABC1D23 (3 letras + 1 número + 1 letra + 2 números)
  const formatoMercosul = /^[A-Z]{3}\d{1}[A-Z]{1}\d{2}$/;
  
  return formatoAntigo.test(cleanPlate) || formatoMercosul.test(cleanPlate);
};

// Check if plate format is complete (7 characters)
export const isPlateComplete = (plate) => {
  const cleanPlate = plate.replace(/[-\s]/g, '');
  return cleanPlate.length === 7;
};
